<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Your #1 QGIS Docs Pull Request</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/league.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-markdown>
					## Making your first Pull Request to QGIS Documentation
					### (and hopefuly not your last)

					*by Alexandre Neto*

					February 21, 2018
				</section>
				<section data-markdown>
					## Where is QGIS Documentation?

					Oficial documentation page:

					[https://docs.qgis.org](https://docs.qgis.org)

					The source is stored on GitHub

					[https://github.com/qgis/QGIS-Documentation](https://github.com/qgis/QGIS-Documentation)
				</section>
				<section data-markdown>
					## What do we use to write it?

					**Sphinx docs**

					Open source Python based tool to write documentation

					[http://www.sphinx-doc.org](http://www.sphinx-doc.org/en/master/)
				</section>
				<section data-markdown>
					## First Step

					Create a GitHub account

					[https://github.com](https://github.com)
				</section>
				<section data-markdown>
					## Writing Documentation
					### (the easy way)

					* Use the **Fix me** link on QGIS documentation pages
					* or browse the files on GitHub.
					* Edit files directly on GitHub repository page

					[Example link](https://docs.qgis.org/2.18/en/docs/user_manual/preamble/preamble.html)
				</section>
				<section data-markdown>
					#### Writing Documentation (the easy way)

					| Pros | Cons |
					| ---- | -----|
					| Fast editing. No setup needed. You can edit from everywhere, all you need is a browser and a github account | You can only edit a single file. You can't add new files or images. You can't properly preview the final result. You can't fix an Pull Request.|
				</section>
				<section data-markdown>
					## Writing Documentation
					### (the hard way)

					* Setup building tools
					* "Download" QGIS-Documentation repository
					* Edit the sphinx source locally
					* Build documentation locally (for preview)
					* Send changes to remote repository
					* Create a pull request \o/
				</section>
				<section data-markdown>
					#### Writing Documentation (the hard way)

					| Pros | Cons |
					| ---- | -----|
					| You can edit multiple files. You can add new files and images. You can build and preview the final result. You can edit your PR's mistakes | Needs a setup locally. Bigger learning curve.|
				</section>
				<section data-markdown>
					### Setup building tools

					Command Shell or terminal with access to:

					* Python (2 or 3)
					* Pip (to install all requirements)
					* Git (to version the code)
					* Make (to build the docs)
				</section>
				<section data-markdown>
					### Linux (deb) setup

					**Python 3**

					    sudo apt-get install python3

					**Pip**

					    curl https://bootstrap.pypa.io/get-pip.py | sudo python3

					**Git**

					    sudo apt-get install git
				</section>
				<section data-markdown>
					### Window setup alternatives

					* Use OSGeo4w Shell (Installed with [OSGeo4W](https://trac.osgeo.org/osgeo4w/))
					* Use **Cygwin**
					* Use [Linux Bash (Windows 10)](https://www.howtogeek.com/249966/how-to-install-and-use-the-linux-bash-shell-on-windows-10/)
				</section>
				<section data-markdown>
					## Setup using Cygwin

					https://cygwin.com/install.html

					Install with:

					* git (Devel)
					* python3 (Interpreters)
					* python3-pip (Python)
					* make ()
					* rsync (Net)
				</section>
				<section data-markdown>
					## Getting the source code

					* Fork [https://github.com/qgis/QGIS-Documentation](https://github.com/qgis/QGIS-Documentation)
					* Download locally
						  git clone https://github.com/username/QGIS-Documentation.git

					* Configure git
						  cd QGIS-Documentation
						  git remote add upstream https://github.com/qgis/QGIS-Documentation.git
						  git config --global user.name "John Doe"
						  git config --global user.email johndoe@example.com
				</section>
				<section data-markdown>
					### Using a Virtualenv

					**Install**

							pip install virtualenv

					**Create**

					    virtualenv ~/qgis_docs_virtualenv

					**Activate**

					    source ../qgis_docs_virtualenv/Scripts/activate
				</section>
				<section data-markdown>
					### Sphinx setup (inside the virtualenv)

							pip install -r REQUIREMENTS.TXT
				</section>
				<section data-markdown>
					### Build documentation for the first time

							make html

					(Hint: Go grab a cofee)
				</section>
				<section data-markdown>
					#### git basic workflow
					1. Update your local repo

						   git checkout master
						   git update upstream master

					2. Create a branch to work on (never work on master)

						   git checkout -b fix_something

					3. Edit source code using your favorite text editor.

					4. Save changes to git version control

						   git commit -am "Fixes something in the X section"

					5. Send commits to YOUR remote repository

						   git push origin fix_something

					*Repeat 3 to 5 as many times as necessary*
				</section>
				<section data-markdown>
					#### Other usefull git commands

					* Check what files have been modified since last commit

							git status

					* See the differences in each modified

							git diff

					* See the last commits

							git log
				</section>
				<section data-markdown>
					## Editing Sphinx Reference Links

					* QGIS Documentation guidelines

					  https://docs.qgis.org/2.18/en/docs/documentation_guidelines/index.html

					* (Sphinx) reStructuredText Primer

					  http://www.sphinx-doc.org/en/stable/rest.html

				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
